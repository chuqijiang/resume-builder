{"version":3,"sources":["../../../../../libs/dto/src/auth/login.ts"],"sourcesContent":["import { createZodDto } from \"nestjs-zod/dto\";\nimport { z } from \"nestjs-zod/z\";\n\nimport { usernameSchema } from \"../user\";\n\nexport const loginSchema = z\n  .object({\n    identifier: z.string(),\n    password: z.password().min(6),\n  })\n  .refine(\n    (value) => {\n      return value.identifier.includes(\"@\")\n        ? z.string().email().parse(value.identifier)\n        : usernameSchema.parse(value.identifier);\n    },\n    { message: \"InvalidCredentials\" },\n  );\n\nexport class LoginDto extends createZodDto(loginSchema) {}\n"],"names":["LoginDto","loginSchema","z","object","identifier","string","password","min","refine","value","includes","email","parse","usernameSchema","message","createZodDto"],"mappings":";;;;;;;;;;;IAmBaA,QAAQ;eAARA;;IAdAC,WAAW;eAAXA;;;qBALgB;mBACX;sBAEa;AAExB,MAAMA,cAAcC,IAAC,CACzBC,MAAM,CAAC;IACNC,YAAYF,IAAC,CAACG,MAAM;IACpBC,UAAUJ,IAAC,CAACI,QAAQ,GAAGC,GAAG,CAAC;AAC7B,GACCC,MAAM,CACL,CAACC;IACC,OAAOA,MAAML,UAAU,CAACM,QAAQ,CAAC,OAC7BR,IAAC,CAACG,MAAM,GAAGM,KAAK,GAAGC,KAAK,CAACH,MAAML,UAAU,IACzCS,oBAAc,CAACD,KAAK,CAACH,MAAML,UAAU;AAC3C,GACA;IAAEU,SAAS;AAAqB;AAG7B,IAAA,AAAMd,WAAN,MAAMA,iBAAiBe,IAAAA,iBAAY,EAACd;AAAc"}