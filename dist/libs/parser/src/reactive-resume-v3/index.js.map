{"version":3,"sources":["../../../../../libs/parser/src/reactive-resume-v3/index.ts"],"sourcesContent":["/* eslint-disable @typescript-eslint/no-non-null-assertion */\nimport { createId } from \"@paralleldrive/cuid2\";\nimport {\n  defaultAward,\n  defaultCertification,\n  defaultEducation,\n  defaultExperience,\n  defaultInterest,\n  defaultLanguage,\n  defaultProfile,\n  defaultProject,\n  defaultPublication,\n  defaultReference,\n  defaultResumeData,\n  defaultSkill,\n  defaultVolunteer,\n} from \"@reactive-resume/schema\";\nimport { isUrl, Json } from \"@reactive-resume/utils\";\nimport { Schema } from \"zod\";\n\nimport { Parser } from \"../interfaces/parser\";\nimport { ReactiveResumeV3, reactiveResumeV3Schema } from \"./schema\";\n\nexport * from \"./schema\";\n\nexport class ReactiveResumeV3Parser implements Parser<Json, ReactiveResumeV3> {\n  schema: Schema;\n\n  constructor() {\n    this.schema = reactiveResumeV3Schema;\n  }\n\n  readFile(file: File): Promise<Json> {\n    return new Promise((resolve, reject) => {\n      const reader = new FileReader();\n\n      // eslint-disable-next-line unicorn/prefer-add-event-listener\n      reader.onload = () => {\n        try {\n          const result = JSON.parse(reader.result as string) as Json;\n          resolve(result);\n        } catch {\n          reject(new Error(\"Failed to parse JSON\"));\n        }\n      };\n\n      // eslint-disable-next-line unicorn/prefer-add-event-listener\n      reader.onerror = () => {\n        reject(new Error(\"Failed to read the file\"));\n      };\n\n      // eslint-disable-next-line unicorn/prefer-blob-reading-methods\n      reader.readAsText(file);\n    });\n  }\n\n  validate(data: Json) {\n    return this.schema.parse(data) as ReactiveResumeV3;\n  }\n\n  convert(data: ReactiveResumeV3) {\n    const result = JSON.parse(JSON.stringify(defaultResumeData));\n\n    // Basics\n    result.basics.name = data.basics.name ?? \"\";\n    result.basics.email = data.basics.email;\n    result.basics.phone = data.basics.phone ?? \"\";\n    result.basics.headline = data.basics.headline ?? \"\";\n    result.basics.location = data.basics.location.address ?? \"\";\n    result.sections.summary.content =\n      (typeof data.basics.summary === \"string\" ? data.basics.summary : data.basics.summary?.body) ??\n      \"\";\n    result.basics.picture.url = isUrl(data.basics.photo.url) ? data.basics.photo.url! : \"\";\n\n    // Profiles\n    if (data.basics.profiles && data.basics.profiles.length > 0) {\n      for (const profile of data.basics.profiles) {\n        result.sections.profiles.items.push({\n          ...defaultProfile,\n          id: createId(),\n          network: profile.network ?? \"\",\n          username: profile.username ?? \"\",\n          icon: (profile.network ?? \"\").toLocaleLowerCase(),\n          url: { ...defaultProfile.url, href: isUrl(profile.url) ? profile.url! : \"\" },\n        });\n      }\n    }\n\n    // Work\n    if (data.sections.work?.items && data.sections.work.items.length > 0) {\n      for (const work of data.sections.work.items) {\n        if (!work) continue;\n\n        result.sections.experience.items.push({\n          ...defaultExperience,\n          id: createId(),\n          company: work.name ?? \"\",\n          position: work.position ?? \"\",\n          summary: work.summary ?? \"\",\n          date: `${work.date?.start} - ${work.date?.end}`,\n          url: { ...defaultExperience.url, href: isUrl(work.url) ? work.url! : \"\" },\n        });\n      }\n    }\n\n    // Awards\n    if (data.sections.awards?.items && data.sections.awards.items.length > 0) {\n      for (const award of data.sections.awards.items) {\n        if (!award) continue;\n\n        result.sections.awards.items.push({\n          ...defaultAward,\n          id: createId(),\n          title: award.title ?? \"\",\n          awarder: award.awarder ?? \"\",\n          date: award.date ?? \"\",\n          summary: award.summary ?? \"\",\n          url: { ...defaultAward.url, href: isUrl(award.url) ? award.url! : \"\" },\n        });\n      }\n    }\n\n    // Skills\n    if (data.sections.skills?.items && data.sections.skills.items.length > 0) {\n      for (const skill of data.sections.skills.items) {\n        if (!skill) continue;\n\n        result.sections.skills.items.push({\n          ...defaultSkill,\n          id: createId(),\n          name: skill.name ?? \"\",\n          level: Math.floor(skill.levelNum / 2),\n          description: skill.level ?? \"\",\n          keywords: Array.isArray(skill.keywords)\n            ? (skill.keywords.filter(Boolean) as string[])\n            : [],\n        });\n      }\n    }\n\n    // Projects\n    if (data.sections.projects?.items && data.sections.projects.items.length > 0) {\n      for (const project of data.sections.projects.items) {\n        if (!project) continue;\n\n        result.sections.projects.items.push({\n          ...defaultProject,\n          id: createId(),\n          name: project.name ?? \"\",\n          summary: project.summary ?? \"\",\n          description: project.description ?? \"\",\n          date: `${project.date?.start} - ${project.date?.end}`,\n          keywords: Array.isArray(project.keywords)\n            ? (project.keywords.filter(Boolean) as string[])\n            : [],\n          url: { ...defaultProject.url, href: isUrl(project.url) ? project.url! : \"\" },\n        });\n      }\n    }\n\n    // Education\n    if (data.sections.education?.items && data.sections.education.items.length > 0) {\n      for (const education of data.sections.education.items) {\n        if (!education) continue;\n\n        result.sections.education.items.push({\n          ...defaultEducation,\n          id: createId(),\n          institution: education.institution ?? \"\",\n          studyType: education.degree ?? \"\",\n          area: education.area ?? \"\",\n          score: education.score ?? \"\",\n          summary: education.summary ?? \"\",\n          date: `${education.date?.start} - ${education.date?.end}`,\n          url: { ...defaultEducation.url, href: isUrl(education.url) ? education.url! : \"\" },\n        });\n      }\n    }\n\n    // Interests\n    if (data.sections.interests?.items && data.sections.interests.items.length > 0) {\n      for (const interest of data.sections.interests.items) {\n        if (!interest) continue;\n\n        result.sections.interests.items.push({\n          ...defaultInterest,\n          id: createId(),\n          name: interest.name ?? \"\",\n          keywords: Array.isArray(interest.keywords)\n            ? (interest.keywords.filter(Boolean) as string[])\n            : [],\n        });\n      }\n    }\n\n    // Languages\n    if (data.sections.languages?.items && data.sections.languages.items.length > 0) {\n      for (const language of data.sections.languages.items) {\n        if (!language) continue;\n\n        result.sections.languages.items.push({\n          ...defaultLanguage,\n          id: createId(),\n          name: language.name ?? \"\",\n          description: language.level ?? \"\",\n          level: Math.floor(language.levelNum / 2),\n        });\n      }\n    }\n\n    // Volunteer\n    if (data.sections.volunteer?.items && data.sections.volunteer.items.length > 0) {\n      for (const volunteer of data.sections.volunteer.items) {\n        if (!volunteer) continue;\n\n        result.sections.volunteer.items.push({\n          ...defaultVolunteer,\n          id: createId(),\n          organization: volunteer.organization ?? \"\",\n          position: volunteer.position ?? \"\",\n          summary: volunteer.summary ?? \"\",\n          date: `${volunteer.date?.start} - ${volunteer.date?.end}`,\n          url: { ...defaultVolunteer.url, href: isUrl(volunteer.url) ? volunteer.url! : \"\" },\n        });\n      }\n    }\n\n    // References\n    if (data.sections.references?.items && data.sections.references.items.length > 0) {\n      for (const reference of data.sections.references.items) {\n        if (!reference) continue;\n\n        result.sections.references.items.push({\n          ...defaultReference,\n          id: createId(),\n          name: reference.name ?? \"\",\n          summary: reference.summary ?? \"\",\n          description: reference.relationship ?? \"\",\n        });\n      }\n    }\n\n    // Publications\n    if (data.sections.publications?.items && data.sections.publications.items.length > 0) {\n      for (const publication of data.sections.publications.items) {\n        if (!publication) continue;\n\n        result.sections.publications.items.push({\n          ...defaultPublication,\n          id: createId(),\n          name: publication.name ?? \"\",\n          summary: publication.summary ?? \"\",\n          date: publication.date ?? \"\",\n          url: { ...defaultPublication.url, href: isUrl(publication.url) ? publication.url! : \"\" },\n        });\n      }\n    }\n\n    // Certifications\n    if (data.sections.certifications?.items && data.sections.certifications.items.length > 0) {\n      for (const certification of data.sections.certifications.items) {\n        if (!certification) continue;\n\n        result.sections.certifications.items.push({\n          ...defaultCertification,\n          id: createId(),\n          name: certification.name ?? \"\",\n          issuer: certification.issuer ?? \"\",\n          summary: certification.summary ?? \"\",\n          date: certification.date ?? \"\",\n          url: {\n            ...defaultCertification.url,\n            href: isUrl(certification.url) ? certification.url! : \"\",\n          },\n        });\n      }\n    }\n\n    return result;\n  }\n}\n"],"names":["ReactiveResumeV3Parser","readFile","file","Promise","resolve","reject","reader","FileReader","onload","result","JSON","parse","Error","onerror","readAsText","validate","data","schema","convert","stringify","defaultResumeData","basics","name","email","phone","headline","location","address","sections","summary","content","body","picture","url","isUrl","photo","profiles","length","profile","items","push","defaultProfile","id","createId","network","username","icon","toLocaleLowerCase","href","work","experience","defaultExperience","company","position","date","start","end","awards","award","defaultAward","title","awarder","skills","skill","defaultSkill","level","Math","floor","levelNum","description","keywords","Array","isArray","filter","Boolean","projects","project","defaultProject","education","defaultEducation","institution","studyType","degree","area","score","interests","interest","defaultInterest","languages","language","defaultLanguage","volunteer","defaultVolunteer","organization","references","reference","defaultReference","relationship","publications","publication","defaultPublication","certifications","certification","defaultCertification","issuer","constructor","reactiveResumeV3Schema"],"mappings":"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"}