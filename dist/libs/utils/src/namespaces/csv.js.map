{"version":3,"sources":["../../../../../libs/utils/src/namespaces/csv.ts"],"sourcesContent":["import Papa from \"papaparse\";\n\nimport { Json } from \"./types\";\n\nexport const parseCSV = async (string: string) => {\n  return new Promise<Json[]>((resolve, reject) => {\n    Papa.parse(string, {\n      header: true,\n      skipEmptyLines: true,\n      complete: (results) => {\n        resolve(results.data as Json[]);\n      },\n      error: (error: Error) => {\n        reject(error);\n      },\n    });\n  });\n};\n\n/**\n * Parser for cases when we receive an array like structure f.e. in the LinkedIn Profile.csv import\n * @param csvEntry array-like entry such as [TAG:https://some.link,TAG:https://someother.link]\n * @returns\n */\nexport const parseArrayLikeCSVEntry = (csvEntry: string) =>\n  csvEntry.replace(/^\\[/, \"\").replace(/$]/, \"\").split(\",\");\n"],"names":["parseArrayLikeCSVEntry","parseCSV","string","Promise","resolve","reject","Papa","parse","header","skipEmptyLines","complete","results","data","error","csvEntry","replace","split"],"mappings":";;;;;;;;;;;IAwBaA,sBAAsB;eAAtBA;;IApBAC,QAAQ;eAARA;;;;oEAJI;AAIV,MAAMA,WAAW,OAAOC;IAC7B,OAAO,IAAIC,QAAgB,CAACC,SAASC;QACnCC,kBAAI,CAACC,KAAK,CAACL,QAAQ;YACjBM,QAAQ;YACRC,gBAAgB;YAChBC,UAAU,CAACC;gBACTP,QAAQO,QAAQC,IAAI;YACtB;YACAC,OAAO,CAACA;gBACNR,OAAOQ;YACT;QACF;IACF;AACF;AAOO,MAAMb,yBAAyB,CAACc,WACrCA,SAASC,OAAO,CAAC,OAAO,IAAIA,OAAO,CAAC,MAAM,IAAIC,KAAK,CAAC"}